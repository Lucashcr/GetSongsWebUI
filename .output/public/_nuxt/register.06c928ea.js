import{f as S,g as C,j as k,h as N,l as B,v as E,r,o as d,i as m,w as u,b as l,d as p,m as T,n as a,c as _,x as L,t as M,F as R,y as A,s as D,_ as F}from"./entry.057c6502.js";const J=S({__name:"register",setup(O){const c=C(),f=k().public.backendURL;N(()=>{c.setAppBarTitle("Junte-se a nós!")});const e=B({first_name:"",last_name:"",username:"",email:"",password:"",password_confirmation:""}),n=E([]);function v(){let t=!1;return n.value=[],e.first_name||(n.value.push("Nome é obrigatório."),t=!0),e.username||(n.value.push("Usuário é obrigatório."),t=!0),e.email||(n.value.push("E-mail é obrigatório."),t=!0),e.password||(n.value.push("Senha é obrigatória."),t=!0),e.password_confirmation||(n.value.push("Confirmação de senha é obrigatória."),t=!0),e.password!==e.password_confirmation&&(n.value.push("As senhas não conferem."),t=!0),!t}async function b(){v()&&await $fetch(`${f}/user/register/`,{method:"POST",body:JSON.stringify(e)}).then(t=>{console.log(t),alert("Usuário criado com sucesso!"),D("/auth/login")}).catch(t=>{console.log(t),t.response.status===400?t.response.data:t.response.status})}return(t,s)=>{const g=r("v-card-title"),i=r("v-text-field"),V=r("v-btn"),x=r("v-form"),w=r("v-alert"),y=r("v-sheet"),h=r("v-card-text"),U=r("v-card");return d(),m(U,{width:"600px",class:"pa-4 rounded-xl"},{default:u(()=>[l(g,null,{default:u(()=>[p("Criar conta")]),_:1}),l(h,null,{default:u(()=>[l(x,{class:"d-flex flex-column align-center",onSubmit:T(b,["prevent"])},{default:u(()=>[l(i,{label:"Nome",modelValue:a(e).first_name,"onUpdate:modelValue":s[0]||(s[0]=o=>a(e).first_name=o),type:"text",required:""},null,8,["modelValue"]),l(i,{label:"Sobrenome",modelValue:a(e).last_name,"onUpdate:modelValue":s[1]||(s[1]=o=>a(e).last_name=o),type:"text"},null,8,["modelValue"]),l(i,{label:"Usuário",modelValue:a(e).username,"onUpdate:modelValue":s[2]||(s[2]=o=>a(e).username=o),type:"text"},null,8,["modelValue"]),l(i,{label:"E-mail",modelValue:a(e).email,"onUpdate:modelValue":s[3]||(s[3]=o=>a(e).email=o),type:"email"},null,8,["modelValue"]),l(i,{label:"Senha",modelValue:a(e).password,"onUpdate:modelValue":s[4]||(s[4]=o=>a(e).password=o),type:"password"},null,8,["modelValue"]),l(i,{label:"Confirme a senha",modelValue:a(e).password_confirmation,"onUpdate:modelValue":s[5]||(s[5]=o=>a(e).password_confirmation=o),type:"password"},null,8,["modelValue"]),l(V,{color:"primary",type:"submit"},{default:u(()=>[p("Enviar")]),_:1})]),_:1},8,["onSubmit"]),a(n).length?(d(),m(y,{key:0,class:"mt-5"},{default:u(()=>[l(w,{type:"error",dismissible:""},{default:u(()=>[(d(!0),_(R,null,L(a(n),o=>(d(),_("p",null,M(o),1))),256))]),_:1})]),_:1})):A("",!0)]),_:1})]),_:1})}}});const j=F(J,[["__scopeId","data-v-b2306ca4"]]);export{j as default};
